{% extends "dashboard_base.html" %}
{% load static %}
{% block dashboard_content %}

<div class="row">
	<div class="col-xl-3 col-md-6 mb-4">
		<div class="card border-left-primary shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Overdue Tickets</div>
						<div class="h5 mb-0 font-weight-bold text-gray-800">20</div>
					</div>
					<div class="col-auto">
						<i class="fas fa-calendar-times fa-2x text-gray-300" style="color:red"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-xl-3 col-md-6 mb-4">
		<div class="card border-left-success shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Open Tickets</div>
						<div class="row no-gutters align-items-center">
							<div class="col-auto">
								<div class="h5 mb-0 font-weight-bold text-gray-800">40 &nbsp;</div>
							</div>
							<div class="col">
								<div class="progress progress-sm mr-2" style="width:150px">
									<div class="progress-bar bg-info" role="progressbar" style="width: 40%"
										aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-auto">
						<i class="fas fa-ticket-alt fa-2x text-gray-300" style="color:blue"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-xl-3 col-md-6 mb-4">
		<div class="card border-left-info shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs font-weight-bold text-success text-uppercase mb-1">Average FRT</div>
						<div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">15 min</div>
					</div>

					<div class="col-auto">
						<i class="fas fa-stopwatch fa-2x text-gray-300" style="color:lawngreen"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-xl-3 col-md-6 mb-4">
		<div class="card border-left-danger shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Latest Urgent SLA
						</div>
						<div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">2</div>
						<br><span id="countdown" class="badge badge-danger"></span>
					</div>
					<div class="col-auto">
						<i class="fas fa-exclamation-triangle fa-2x text-gray-300" style="color:red"></i>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row">

	<div class="col-lg-6">

		<div class="card mb-4">
			<div class="card-header" style="text-align:left">
				Open Tickets By Category
			</div>
			<div class="card-body" style="text-align:left;">
				<span>Hardware</span>
				<div class="progress" style="border-radius:5px; text-align:right; margin-bottom:10px">
					<div class="progress-bar bg-danger" role="progressbar" style="width:30%" aria-valuenow="25"
						aria-valuemin="0" aria-valuemax="100"><b>30%</b></div>
				</div>

				<span>Software</span>
				<div class="progress" style="border-radius:5px; text-align:right; margin-bottom:10px">
					<div class="progress-bar bg-primary" role="progressbar" style="width:80%" aria-valuenow="25"
						aria-valuemin="0" aria-valuemax="100"><b>80%</b></div>
				</div>

				<span>Network</span>
				<div class="progress" style="border-radius:5px; text-align:right; margin-bottom:10px">
					<div class="progress-bar bg-success" role="progressbar" style="width:50%" aria-valuenow="25"
						aria-valuemin="0" aria-valuemax="100"><b>50%</b></div>
				</div>

				<span>Others</span>
				<div class="progress" style="border-radius:5px; text-align:right; margin-bottom:10px">
					<div class="progress-bar bg-info" role="progressbar" style="width:30%" aria-valuenow="25"
						aria-valuemin="0" aria-valuemax="100"><b>40%</b></div>
				</div>
			</div>
		</div>

		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0" style="text-align:left">Active Incidents by State</h6>
			</div>
			<div class="card-body">
				<div id="donutchart" align="center" style="width:300px;"></div>
			</div>
		</div>
	</div>

	<div class="col-lg-6">

		<!-- Dropdown Card Example -->
		<div class="card shadow mb-4">
			<!-- Card Header - Dropdown -->
			<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
				<h6 class="m-0">All New Incidents</h6>
				<div class="dropdown no-arrow">
					<a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false">
						<i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
					</a>
					<div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
						aria-labelledby="dropdownMenuLink">
						<div class="dropdown-header">Sort By:</div>
						<a class="dropdown-item" href="#">A - Z</a>
						<a class="dropdown-item" href="#">Importance</a>
					</div>

				</div>
			</div>
			<!-- Card Body -->
			<div class="card-body" style="text-align:left">
				<h1 style="font-size:16px;">All New Incidents</h1>
				<h2 style="font-size:12px; color:gray">Top # of # items</h2>
				<h2 style="font-size:12px; color:Black; margin-top:15px">Password Reset</h2>
				<h7 style="font-size:12px">Hardware &nbsp;<span class="badge badge-warning"
						style="width:15%; ">High</span>
				</h7>

				<h2 style="font-size:12px; color:Black; margin-top:20px">Unable to login email</h2>
				<h7 style="font-size:12px">Software &nbsp;<span class="badge badge-success"
						style="width:15%; ">Low</span></h7>

				<h2 style="font-size:12px; color:Black; margin-top:20px">OMGWTFBBQ</h2>
				<h7 style="font-size:12px">Incident &nbsp;<span class="badge badge-danger"
						style="width:15%; ">Critical</span>
				</h7>
			</div>
		</div>

		<!-- Collapsable Card Example -->
		<div class="card shadow mb-4">
			<!-- Card Header - Accordion -->
			<div class="card-header">
				<h6 class="m-0" style="text-align:left">Support Tracker</h6>
			</div>

			<div class="card-body" style="text-align:left">
				<h1 style="font-size:48px;">163</h1>
				<h1 style="font-size:16px; left:50px">Tickets</h1>
				<div class="container-fluid"
					style="text-align:center; width:40%; height:100%; margin-left:30%; margin-top:-10%">
					<h1 style="font-size:14px;">New Tickets</h1>
					<h1 style="font-size:24px; padding-bottom:5px">29</h1>
					<h1 style="font-size:14px;">Open Tickets</h1>
					<h1 style="font-size:24px; padding-bottom:5px">63</h1>
					<h1 style="font-size:14px;">Response Times</h1>
					<h1 style="font-size:24px; padding-bottom:5px">1D</h1>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="{% static 'js/chart/2.7.3/js/Chart.min.js' %}"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
	// Load google charts
	google.charts.load('current', {
		'packages': ['corechart']
	});
	google.charts.setOnLoadCallback(drawChart);

	// Draw the chart and set the chart values
	function drawChart() {
		var data = google.visualization.arrayToDataTable([
			['Task', 'Number of Reports'],
			['New', 5],
			['Assigned', 4],
			['Approved', 3],
			['Pending Approval', 3]
		]);

		// Optional; add a title and set the width and height of the chart
		var options = {
			'pieHole': 0.3,
			'pieSliceTextStyle': {
				color: 'black'
			},
			'width': 300,
			'height': 250,
			'colors': ['55D8FE', '#FF8373', '#FFDA83', '#A3A0FB'],
			'pieStartAngle': 30
		};

		// Display the chart inside the <div> element with id="piechart"
		var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
		chart.draw(data, options);

		var data = google.visualization.arrayToDataTable([
			['Completion', 'Precentage'],
			['Completed', 83],
			['Pending', 17]
		]);

		var options = {
			is3D: true,
		};

		var chart = new google.visualization.PieChart(document.getElementById('piechart'));

		chart.draw(data, options);
	}
</script>



{% endblock %}